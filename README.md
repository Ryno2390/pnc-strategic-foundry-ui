<div align="center">
<img width="1200" height="475" alt="GHBanner" src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" />

# PNC Strategic Foundry
### *Transforming Siloed Data into Unified Relationship Intelligence*
</div>

---

## ğŸŒŸ Mission
The **PNC Strategic Foundry** is a customer-centered AI platform designed to move banking from reactive service to proactive strategic partnership. It serves as the R&D hub for the **PNC Strategic Advisor**, an enterprise-grade assistant that reasons over unified data while adhering strictly to the bank's "Brilliantly Boring" professional philosophy.

---

## ğŸ—ï¸ 1. Architecture: The Three Pillars
The Foundry is built upon a modular "Three Pillars" framework that separates **Memory** (Data), **Bridge** (Integration), and **Brain** (Reasoning).

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PNC STRATEGIC FOUNDRY Hub                           â”‚
â”‚                                                                             â”‚
â”‚      PILLAR 1: MEMORY           PILLAR 2: THE BRIDGE         PILLAR 3: BRAINâ”‚
â”‚    (Relationship Store)         (Context Assembler)        (Reasoning Model)â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚  CONSUMER CORE    â”‚        â”‚                   â”‚      â”‚   S1 REASONER   â”‚â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚  Entitlement-     â”‚      â”‚ (Local MLX LM)  â”‚â”‚
â”‚   â”‚  COMMERCIAL CORE  â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Aware Tool       â”‚â”€â”€â”€â”€â”€â–¶â”‚                 â”‚â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚  Orchestration    â”‚      â”‚  "Brilliantly   â”‚â”‚
â”‚   â”‚  WEALTH ADVISORY  â”‚        â”‚                   â”‚      â”‚    Boring"      â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚             â”‚                            â”‚                         â”‚         â”‚
â”‚             â–¼                            â–¼                         â–¼         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚ Unified Entity    â”‚        â”‚  FastAPI REST     â”‚      â”‚ AI Self-        â”‚â”‚
â”‚   â”‚ Graph (Identity   â”‚        â”‚  Gateway          â”‚      â”‚ Improving       â”‚â”‚
â”‚   â”‚ Resolution)       â”‚        â”‚                   â”‚      â”‚ Flywheel        â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š 2. Pillar 1: The Memory (Data Layer)
At the core of the Foundry is the **Unified Entity Graph**, which resolves identities across disparate lines of business (LOBs).

### Scalable Identity Resolution
Unlike standard $O(n^2)$ matchers, the Foundry uses a **Scalable Blocking Strategy** to handle enterprise datasets.
- **Inverted Indexing**: Entities are indexed by `Zip Code` and `Last Name Prefix`.
- **Performance**: Reduced comparisons by **16x** on initial benchmarks.
- **Weighted Scoring**:
  | Factor | Weight | Importance |
  | :--- | :--- | :--- |
  | SSN Last 4 | 40% | Primary Anchor |
  | Date of Birth | 20% | Critical Differentiator |
  | Name Similarity | 15% | Fuzzy Logic (John vs. Jonathan) |
  | Address Match | 15% | Physical Verification |
  | Contact (Ph/Email)| 10% | Auxiliary Signal |

---

## ğŸŒ‰ 3. Pillar 2: The Bridge (Integration Layer)
The Bridge translates the AI's reasoning into concrete actions through the **Context Assembler**.

### Entitlement-Aware Data Access
Advisors only see what they are licensed to see.
- **Retail Banker**: Accesses `CONSUMER_CORE` only.
- **Wealth Advisor**: Accesses `WEALTH_ADVISORY` + relevant `CONSUMER` links.
- **Relationship Manager**: Full cross-LOB 360-degree view.

### API Gateway (`app.py`)
A modern **FastAPI** hub that exposes the Foundry's intelligence via REST:
- `GET /api/v1/customer/{id}`: Unified 360-degree profile.
- `GET /api/v1/graph/data`: JSON nodes/edges for visualization.
- `GET /api/v1/policy/search`: Natural language query of bank rules.

---

## ğŸ§  4. Pillar 3: The Brain (AI Reasoning)
The Foundry uses specialized **S1 Reasoning Models** (Qwen 2.5 3B / Llama 3.1 8B) fine-tuned for high-fidelity financial analysis.

### The AI Flywheel
A self-correcting loop that ensures the model improves every single day.
1. **TRAIN**: Fine-tune Student (S1) on gold-standard traces.
2. **GENERATE**: S1 creates new reasoning traces for complex queries.
3. **GRADE**: Teacher (Claude 3.5 Sonnet) scores traces for accuracy and tone.
4. **MERGE**: High-quality traces (Score 8+) are folded back into the training set.

### Model Forge (Quantization)
To run **100% locally on an Advisor's Mac**, we automate the optimization pipeline:
- **MLX Conversion**: Fused weights converted to 4-bit and 8-bit.
- **Edge Performance**: ~55 tokens/second on M-series chips with <2GB RAM.

---

## ğŸ›¡ï¸ 5. The Compliance Pillar (Reg-Tech)
We operationalize banking regulations directly into the source code to ensure safety.

| Regulation | Component | Functional Impact |
| :--- | :--- | :--- |
| **Reg B (ECOA)** | Adverse Action Reasoner | Generates formal denial notices citing specific math (DSCR/DTI). |
| **GLBA** | Privacy Scorer | Calculates **K-Anonymity** to prevent re-identification. |
| **Fair Lending** | Fairness Monitor | Real-time redaction of prohibited factors (Race, Gender, Zip Code). |
| **SEC 17a-4** | Immutable Audit Vault | Cryptographic hash chain proving AI reasoning hasn't been tampered with. |

### Immutable Audit Vault Schematic
```text
[ Advisor Query ] â”€â–¶ [ S1 Reasoner ] â”€â–¶ [ Final Response ]
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Audit committed   â”‚
                    â”‚   to Vault (Hashed) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Record N (Hash)     â”‚â”€â”€â”€â–¶â”‚ Record N+1 (Hash)   â”‚
                    â”‚ prev_hash: 0xA1B2   â”‚    â”‚ prev_hash: [Hash N] â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         (Tamper-Evident Evidence Chain)
```

---

## ğŸ” 6. Visual Intelligence
The **Relationship Explorer** (`src/frontend/components/RelationshipGraph.tsx`) allows advisors to visually traverse the entity graph.
- **Node Colors**: Blue (Person), Amber (Business).
- **Edge Dynamics**: Real-time links between spouses, household members, and business owners.
- **Impact**: Makes "invisible" connections (e.g., a commercial client owning a secret wealth-managed entity) tangible.

---

## ğŸ› ï¸ 7. Getting Started

### Backend & API Server
**Prerequisites:** Python 3.11+, Apple Silicon (M1/M2/M3/M4)

1. **Setup Environment**:
   ```bash
   python -m venv .venv && source .venv/bin/activate
   pip install -r requirements.txt
   ```
2. **Initialize Memory**:
   ```bash
   python src/backend/synthetic_factory.py  # Generate R&D data
   python src/backend/relationship_engine/normalization_engine.py
   python src/backend/relationship_engine/identity_resolution.py
   ```
3. **Launch Gateway**:
   ```bash
   python src/backend/app.py
   ```

### Frontend & Dashboard
**Prerequisites:** Node.js

1. **Install & Launch**:
   ```bash
   npm install
   npm run dev
   ```
2. **Access**: Open `http://localhost:3000` for the Advisor Dashboard and `http://localhost:8000/docs` for the API documentation.

---

## ğŸ“‚ 8. Project Structure
```text
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ backend/               # Python Core Logic
â”‚   â”‚   â”œâ”€â”€ relationship_engine/ # Identity, Guardrails, Adverse Action
â”‚   â”‚   â”œâ”€â”€ audit_vault.py     # SEC-compliant cryptographic logging
â”‚   â”‚   â”œâ”€â”€ policy_engine.py   # RAG Engine for bank rules
â”‚   â”‚   â”œâ”€â”€ app.py             # FastAPI REST Hub
â”‚   â”‚   â””â”€â”€ tests/             # Pytest logic verification suite
â”‚   â””â”€â”€ frontend/              # React/Vite Source
â”‚       â””â”€â”€ components/        # RelationshipGraph.tsx, ArtifactCard.tsx
â”œâ”€â”€ data/                      # Structured Storage
â”‚   â”œâ”€â”€ training/              # Flywheel prompts & reasoning traces
â”‚   â”œâ”€â”€ relationship_store/    # Raw, Normalized, and Resolved records
â”‚   â””â”€â”€ policies/              # Markdown bank guidelines
â”œâ”€â”€ assets/                    # Media & Visuals
â”œâ”€â”€ docs/                      # Blueprints & Roadmaps
â””â”€â”€ outputs/                   # Optimized MLX Model Weights
```

---

## âš–ï¸ License
**Proprietary - PNC Financial Services Group.** All rights reserved. "Responsible since 1865."